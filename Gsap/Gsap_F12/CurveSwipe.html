<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Curve swipe</title>
  <script src="../assets/libs/gsap3.13.0/gsap.min.js"></script>
  <script src="../assets/libs/gsap3.13.0/MorphSVGPlugin.min.js"></script>
  <style>
    body {
      padding: 0;
      margin: 0;
      width: 100vw;
      height: 100vh;
      background-color: #232529;
    }
    .wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .transition {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      right: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <div class='wrapper'>
    <svg class="transition" viewBox="0 0 100 100" preserveAspectRatio="xMidYMin slice">
      <defs>
        <linearGradient id="grad" x1="0" y1="0" x2="99" y2="99" gradientUnits="userSpaceOnUse">
          <stop offset="0.2" stop-color="rgb(255, 135, 9)" />
          <stop offset="0.7" stop-color="rgb(247, 189, 248)" />
        </linearGradient>
      </defs>
      <path class="path" stroke="url(#grad)" fill="url(#grad)" stroke-width="2px" vector-effect="non-scaling-stroke" d="M 0 100 V 100 Q 50 100 100 100 V 100 z" />
    </svg>
  </div>
  <script>
    // 获取 SVG 路径元素
    const path = document.querySelector('.path');

    /* 1. 定义两段路径
      start：中间向上凸的形状
      end  ：拉平成直线，形成“封口”效果 */
    const start = 'M 0 100 V 50 Q 50 0 100 50 V 100 z';
    const end   = 'M 0 100 V 0 Q 50 0 100 0 V 100 z';

    /* 2. 创建时间线（默认反向，即先显示 start 形状） */
    const tl = gsap.timeline()
      .to(path, { morphSVG: start, ease: 'power2.in' })   // 上凸
      .to(path, { morphSVG: end,   ease: 'power2.out' })  // 拉平
      .reverse(); // 初始状态 = 收起（start）

    /* 3. 点击页面：切换方向，实现“打开/闭合”口袋 */
    document.body.addEventListener('click', () => {
      tl.reversed(!tl.reversed());
    });
  </script>
</body>
</html>